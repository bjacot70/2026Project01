import{M as b,aW as a,i as n,c as v,bm as g,s as A,O as C,cy as f,ei as W,E as h,L as T,aY as x,a as L,ej as E,r as P,P as p,f as d,N as O,C as V}from"./index-BsJ70qdJ.js";var H=function(){var u=function(t,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var i in s)s.hasOwnProperty(i)&&(r[i]=s[i])},u(t,e)};return function(t,e){u(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),l=function(u,t,e,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(u,t,e,r);else for(var c=u.length-1;c>=0;c--)(o=u[c])&&(i=(s<3?o(i):s>3?o(t,e,i):o(t,e))||i);return s>3&&i&&Object.defineProperty(t,e,i),i},w="e-clear-icon-hide",B=function(u){H(t,u);function t(e,r){var s=u.call(this,e,r)||this;return s.previousValue=null,s.isHiddenInput=!1,s.isForm=!1,s.inputPreviousValue=null,s.textboxOptions=e,s}return t.prototype.onPropertyChanged=function(e,r){for(var s=0,i=Object.keys(e);s<i.length;s++){var o=i[s];switch(o){case"floatLabelType":a.removeFloating(this.textboxWrapper),a.addFloating(this.respectiveElement,this.floatLabelType,this.placeholder);break;case"enabled":a.setEnabled(this.enabled,this.respectiveElement,this.floatLabelType,this.textboxWrapper.container),this.bindClearEvent();break;case"width":a.setWidth(e.width,this.textboxWrapper.container);break;case"value":{var c=this.isProtectedOnChange;this.isProtectedOnChange=!0,a.isBlank(this.value)||(this.value=this.value.toString()),this.isProtectedOnChange=c,a.setValue(this.value,this.respectiveElement,this.floatLabelType,this.showClearButton),this.isHiddenInput&&(this.element.value=this.respectiveElement.value),this.inputPreviousValue=this.respectiveElement.value,(this.isAngular||this.isVue)&&this.preventChange===!0?(this.previousValue=this.isAngular?this.value:this.previousValue,this.preventChange=!1):(n(this.isAngular)||!this.isAngular||this.isAngular&&!this.preventChange||this.isAngular&&n(this.preventChange))&&this.raiseChangeEvent()}break;case"htmlAttributes":this.updateHTMLAttributesToElement(),this.updateHTMLAttributesToWrapper(),this.checkAttributes(!0),this.multiline&&!n(this.textarea)?a.validateInputType(this.textboxWrapper.container,this.textarea):a.validateInputType(this.textboxWrapper.container,this.element);break;case"readonly":a.setReadonly(this.readonly,this.respectiveElement);break;case"type":this.respectiveElement.tagName!=="TEXTAREA"&&(this.respectiveElement.setAttribute("type",this.type),a.validateInputType(this.textboxWrapper.container,this.element),this.raiseChangeEvent());break;case"showClearButton":a.setClearButton(this.showClearButton,this.respectiveElement,this.textboxWrapper),this.bindClearEvent();break;case"enableRtl":a.setEnableRtl(this.enableRtl,[this.textboxWrapper.container]);break;case"placeholder":a.setPlaceholder(this.placeholder,this.respectiveElement),a.calculateWidth(this.respectiveElement,this.textboxWrapper.container);break;case"autocomplete":this.autocomplete!=="on"&&this.autocomplete!==""?this.respectiveElement.autocomplete=this.autocomplete:this.removeAttributes(["autocomplete"]);break;case"cssClass":a.updateCssClass(e.cssClass,r.cssClass,this.textboxWrapper.container);break;case"locale":this.globalize=new b(this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),a.setPlaceholder(this.placeholder,this.respectiveElement);break}}},t.prototype.getModuleName=function(){return"textbox"},t.prototype.preRender=function(){if(this.cloneElement=this.element.cloneNode(!0),this.formElement=v(this.element,"form"),n(this.formElement)||(this.isForm=!0),this.element.tagName==="EJS-TEXTBOX"){var e=g("ej2_instances",this.element),r=this.multiline?this.createElement("textarea"):this.createElement("input"),s=0;for(s;s<this.element.attributes.length;s++){var i=this.element.attributes[s].nodeName;i!=="id"&&i!=="class"?(r.setAttribute(i,this.element.attributes[s].nodeValue),r.innerHTML=this.element.innerHTML,i==="name"&&this.element.removeAttribute("name")):i==="class"&&r.setAttribute(i,this.element.className.split(" ").filter(function(m){return m.indexOf("ng-")!==0}).join(" "))}this.element.appendChild(r),this.element=r,A("ej2_instances",e,this.element)}this.updateHTMLAttributesToElement(),this.checkAttributes(!1),(n(this.textboxOptions)||this.textboxOptions.value===void 0)&&this.element.value!==""&&this.setProperties({value:this.element.value},!0),this.element.tagName!=="TEXTAREA"&&this.element.setAttribute("type",this.type),(this.type==="text"||this.element.tagName==="INPUT"&&this.multiline&&this.isReact)&&this.element.setAttribute("role","textbox"),this.globalize=new b(this.locale);var o={placeholder:this.placeholder};if(this.l10n=new C("textbox",o,this.locale),this.l10n.getConstant("placeholder")!==""&&this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),this.element.hasAttribute("id")||this.element.setAttribute("id",f("textbox")),this.element.hasAttribute("name")||this.element.setAttribute("name",this.element.getAttribute("id")),this.element.tagName==="INPUT"&&this.multiline){this.isHiddenInput=!0,this.textarea=this.createElement("textarea"),this.element.parentNode.insertBefore(this.textarea,this.element),this.element.setAttribute("type","hidden"),this.textarea.setAttribute("name",this.element.getAttribute("name")),this.element.removeAttribute("name"),this.textarea.setAttribute("role",this.element.getAttribute("role")),this.element.removeAttribute("role"),this.textarea.setAttribute("id",f("textarea"));for(var c=["placeholder","disabled","value","readonly","type","autocomplete"],s=0;s<this.element.attributes.length;s++){var i=this.element.attributes[s].nodeName;this.element.hasAttribute(i)&&W.indexOf(i)<0&&!(i==="id"||i==="type"||i==="e-mappinguid")&&(this.textarea.setAttribute(i,this.element.attributes[s].nodeValue),c.indexOf(i)<0&&(this.element.removeAttribute(i),s--))}}},t.prototype.checkAttributes=function(e){for(var r=e?n(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["placeholder","disabled","value","readonly","type","autocomplete"],s=0,i=r;s<i.length;s++){var o=i[s];if(!n(this.element.getAttribute(o)))switch(o){case"disabled":if(n(this.textboxOptions)||this.textboxOptions.enabled===void 0||e){var c=!(this.element.getAttribute(o)==="disabled"||this.element.getAttribute(o)===""||this.element.getAttribute(o)==="true");this.setProperties({enabled:c},!e)}break;case"readonly":if(n(this.textboxOptions)||this.textboxOptions.readonly===void 0||e){var m=this.element.getAttribute(o)==="readonly"||this.element.getAttribute(o)===""||this.element.getAttribute(o)==="true";this.setProperties({readonly:m},!e)}break;case"placeholder":(n(this.textboxOptions)||this.textboxOptions.placeholder===void 0||e)&&this.setProperties({placeholder:this.element.placeholder},!e);break;case"autocomplete":if(n(this.textboxOptions)||this.textboxOptions.autocomplete===void 0||e){var y=this.element.autocomplete==="off"?"off":"on";this.setProperties({autocomplete:y},!e)}break;case"value":(n(this.textboxOptions)||this.textboxOptions.value===void 0||e)&&this.element.value!==""&&this.setProperties({value:this.element.value},!e);break;case"type":(n(this.textboxOptions)||this.textboxOptions.type===void 0||e)&&this.setProperties({type:this.element.type},!e);break}}},t.prototype.render=function(){var e=this.cssClass;!n(this.cssClass)&&this.cssClass!==""&&(e=a.getInputValidClassList(this.cssClass)),this.respectiveElement=this.isHiddenInput?this.textarea:this.element,this.textboxWrapper=a.createInput({element:this.respectiveElement,floatLabelType:this.floatLabelType,properties:{enabled:this.enabled,enableRtl:this.enableRtl,cssClass:e,readonly:this.readonly,placeholder:this.placeholder,showClearButton:this.showClearButton}}),this.updateHTMLAttributesToWrapper(),this.isHiddenInput&&this.respectiveElement.parentNode.insertBefore(this.element,this.respectiveElement),this.wireEvents(),n(this.value)||(a.setValue(this.value,this.respectiveElement,this.floatLabelType,this.showClearButton),this.isHiddenInput&&(this.element.value=this.respectiveElement.value)),n(this.value)||(this.initialValue=this.value,this.setInitialValue()),this.autocomplete!=="on"&&this.autocomplete!==""?this.respectiveElement.autocomplete=this.autocomplete:!n(this.textboxOptions)&&this.textboxOptions.autocomplete!==void 0&&this.removeAttributes(["autocomplete"]),this.previousValue=this.value,this.inputPreviousValue=this.value,this.respectiveElement.defaultValue=this.respectiveElement.value,a.setWidth(this.width,this.textboxWrapper.container),!n(v(this.element,"fieldset"))&&v(this.element,"fieldset").disabled&&(this.enabled=!1),!this.element.hasAttribute("aria-labelledby")&&!this.element.hasAttribute("placeholder")&&!this.element.hasAttribute("aria-label")&&this.element.setAttribute("aria-label","textbox"),this.renderComplete()},t.prototype.updateHTMLAttributesToWrapper=function(){a.updateHTMLAttributesToWrapper(this.htmlAttributes,this.textboxWrapper.container)},t.prototype.updateHTMLAttributesToElement=function(){a.updateHTMLAttributesToElement(this.htmlAttributes,this.respectiveElement?this.respectiveElement:this.multiline&&!n(this.textarea)?this.textarea:this.element)},t.prototype.setInitialValue=function(){this.isAngular||this.respectiveElement.setAttribute("value",this.initialValue)},t.prototype.wireEvents=function(){h.add(this.respectiveElement,"focus",this.focusHandler,this),h.add(this.respectiveElement,"blur",this.focusOutHandler,this),h.add(this.respectiveElement,"keydown",this.keydownHandler,this),h.add(this.respectiveElement,"input",this.inputHandler,this),h.add(this.respectiveElement,"change",this.changeHandler,this),this.isForm&&h.add(this.formElement,"reset",this.resetForm,this),this.bindClearEvent(),!n(this.textboxWrapper.container.querySelector(".e-float-text"))&&this.floatLabelType==="Auto"&&this.textboxWrapper.container.classList.contains("e-autofill")&&this.textboxWrapper.container.classList.contains("e-outline")&&h.add(this.textboxWrapper.container.querySelector(".e-float-text"),"animationstart",this.animationHandler,this)},t.prototype.animationHandler=function(){this.textboxWrapper.container.classList.add("e-valid-input");var e=this.textboxWrapper.container.querySelector(".e-float-text");n(e)||(e.classList.add("e-label-top"),e.classList.contains("e-label-bottom")&&e.classList.remove("e-label-bottom"))},t.prototype.resetValue=function(e){var r=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.value=e,e==null&&this.textboxWrapper.container.classList.contains("e-valid-input")&&this.textboxWrapper.container.classList.remove("e-valid-input"),this.isProtectedOnChange=r},t.prototype.resetForm=function(){if(this.isAngular?this.resetValue(""):this.resetValue(this.initialValue),!n(this.textboxWrapper)){var e=this.textboxWrapper.container.querySelector(".e-float-text");!n(e)&&this.floatLabelType!=="Always"&&(n(this.initialValue)||this.initialValue===""?(e.classList.add("e-label-bottom"),e.classList.remove("e-label-top")):this.initialValue!==""&&(e.classList.add("e-label-top"),e.classList.remove("e-label-bottom")))}},t.prototype.focusHandler=function(e){var r={container:this.textboxWrapper.container,event:e,value:this.value};this.trigger("focus",r)},t.prototype.focusOutHandler=function(e){!(this.previousValue===null&&this.value===null&&this.respectiveElement.value==="")&&this.previousValue!==this.value&&this.raiseChangeEvent(e,!0);var r={container:this.textboxWrapper.container,event:e,value:this.value};this.trigger("blur",r)},t.prototype.keydownHandler=function(e){(e.keyCode===13||e.keyCode===9)&&!((this.previousValue===null||this.previousValue==="")&&(this.value===null||this.value==="")&&this.respectiveElement.value==="")&&this.setProperties({value:this.respectiveElement.value},!0)},t.prototype.inputHandler=function(e){var r=this,s={event:e,value:this.respectiveElement.value,previousValue:this.inputPreviousValue,container:this.textboxWrapper.container};this.inputPreviousValue=this.respectiveElement.value,this.isAngular&&(r.localChange({value:this.respectiveElement.value}),this.preventChange=!0),this.isVue&&(this.preventChange=!0),this.trigger("input",s),e.stopPropagation()},t.prototype.changeHandler=function(e){this.setProperties({value:this.respectiveElement.value},!0),this.previousValue!==this.value&&this.raiseChangeEvent(e,!0),e.stopPropagation()},t.prototype.raiseChangeEvent=function(e,r){var s={event:e,value:this.value,previousValue:this.previousValue,container:this.textboxWrapper.container,isInteraction:r||!1,isInteracted:r||!1};this.preventChange=!1,this.trigger("change",s),this.previousValue=this.value,this.element.tagName==="INPUT"&&this.multiline&&T.info.name==="mozilla"&&(this.element.value=this.respectiveElement.value)},t.prototype.bindClearEvent=function(){this.showClearButton&&(this.enabled?h.add(this.textboxWrapper.clearButton,"mousedown touchstart",this.resetInputHandler,this):h.remove(this.textboxWrapper.clearButton,"mousedown touchstart",this.resetInputHandler))},t.prototype.resetInputHandler=function(e){if(e.preventDefault(),!this.textboxWrapper.clearButton.classList.contains(w)||this.textboxWrapper.container.classList.contains("e-static-clear")){a.setValue("",this.respectiveElement,this.floatLabelType,this.showClearButton),this.isHiddenInput&&(this.element.value=this.respectiveElement.value),this.setProperties({value:this.respectiveElement.value},!0);var r={event:e,value:this.respectiveElement.value,previousValue:this.inputPreviousValue,container:this.textboxWrapper.container};if(this.trigger("input",r),this.inputPreviousValue=this.respectiveElement.value,this.raiseChangeEvent(e,!0),v(this.element,"form")){var s=this.element,i=document.createEvent("KeyboardEvent");i.initEvent("keyup",!1,!0),s.dispatchEvent(i)}}},t.prototype.unWireEvents=function(){h.remove(this.respectiveElement,"focus",this.focusHandler),h.remove(this.respectiveElement,"blur",this.focusOutHandler),h.remove(this.respectiveElement,"keydown",this.keydownHandler),h.remove(this.respectiveElement,"input",this.inputHandler),h.remove(this.respectiveElement,"change",this.changeHandler),this.isForm&&h.remove(this.formElement,"reset",this.resetForm),!n(this.textboxWrapper.container.querySelector(".e-float-text"))&&this.floatLabelType==="Auto"&&this.textboxWrapper.container.classList.contains("e-outline")&&this.textboxWrapper.container.classList.contains("e-autofill")&&h.remove(this.textboxWrapper.container.querySelector(".e-float-text"),"animationstart",this.animationHandler)},t.prototype.destroy=function(){this.unWireEvents(),this.showClearButton&&(this.clearButton=document.getElementsByClassName("e-clear-icon")[0]),this.element.tagName==="INPUT"&&this.multiline&&(x(this.textboxWrapper.container.getElementsByTagName("textarea")[0]),this.respectiveElement=this.element,this.element.removeAttribute("type")),this.respectiveElement.value=this.respectiveElement.defaultValue,this.respectiveElement.classList.remove("e-input"),this.removeAttributes(["aria-disabled","aria-readonly","aria-labelledby"]),n(this.textboxWrapper)||(this.textboxWrapper.container.insertAdjacentElement("afterend",this.respectiveElement),x(this.textboxWrapper.container)),this.textboxWrapper=null,a.destroy({element:this.respectiveElement,floatLabelType:this.floatLabelType,properties:this.properties},this.clearButton),u.prototype.destroy.call(this)},t.prototype.addIcon=function(e,r){a.addIcon(e,r,this.textboxWrapper.container,this.respectiveElement,this.createElement)},t.prototype.getPersistData=function(){var e=["value"];return this.addOnPersist(e)},t.prototype.addAttributes=function(e){for(var r=0,s=Object.keys(e);r<s.length;r++){var i=s[r];i==="disabled"?(this.setProperties({enabled:!1},!0),a.setEnabled(this.enabled,this.respectiveElement,this.floatLabelType,this.textboxWrapper.container)):i==="readonly"?(this.setProperties({readonly:!0},!0),a.setReadonly(this.readonly,this.respectiveElement)):i==="class"?this.respectiveElement.classList.add(e[""+i]):i==="placeholder"?(this.setProperties({placeholder:e[""+i]},!0),a.setPlaceholder(this.placeholder,this.respectiveElement)):i==="rows"&&this.respectiveElement.tagName==="TEXTAREA"?this.respectiveElement.setAttribute(i,e[""+i]):this.respectiveElement.setAttribute(i,e[""+i])}},t.prototype.removeAttributes=function(e){for(var r=0,s=e;r<s.length;r++){var i=s[r];i==="disabled"?(this.setProperties({enabled:!0},!0),a.setEnabled(this.enabled,this.respectiveElement,this.floatLabelType,this.textboxWrapper.container)):i==="readonly"?(this.setProperties({readonly:!1},!0),a.setReadonly(this.readonly,this.respectiveElement)):i==="placeholder"?(this.setProperties({placeholder:null},!0),a.setPlaceholder(this.placeholder,this.respectiveElement)):this.respectiveElement.removeAttribute(i)}},t.prototype.focusIn=function(){document.activeElement!==this.respectiveElement&&this.enabled&&(this.respectiveElement.focus(),(this.textboxWrapper.container.classList.contains("e-input-group")||this.textboxWrapper.container.classList.contains("e-outline")||this.textboxWrapper.container.classList.contains("e-filled"))&&L([this.textboxWrapper.container],[E]))},t.prototype.focusOut=function(){document.activeElement===this.respectiveElement&&this.enabled&&(this.respectiveElement.blur(),(this.textboxWrapper.container.classList.contains("e-input-group")||this.textboxWrapper.container.classList.contains("e-outline")||this.textboxWrapper.container.classList.contains("e-filled"))&&P([this.textboxWrapper.container],[E]))},l([p("text")],t.prototype,"type",void 0),l([p(!1)],t.prototype,"readonly",void 0),l([p(null)],t.prototype,"value",void 0),l([p("Never")],t.prototype,"floatLabelType",void 0),l([p("")],t.prototype,"cssClass",void 0),l([p(null)],t.prototype,"placeholder",void 0),l([p("on")],t.prototype,"autocomplete",void 0),l([p({})],t.prototype,"htmlAttributes",void 0),l([p(!1)],t.prototype,"multiline",void 0),l([p(!0)],t.prototype,"enabled",void 0),l([p(!1)],t.prototype,"showClearButton",void 0),l([p(!1)],t.prototype,"enablePersistence",void 0),l([p(null)],t.prototype,"width",void 0),l([d()],t.prototype,"created",void 0),l([d()],t.prototype,"destroyed",void 0),l([d()],t.prototype,"change",void 0),l([d()],t.prototype,"blur",void 0),l([d()],t.prototype,"focus",void 0),l([d()],t.prototype,"input",void 0),t=l([O],t),t}(V);export{B as T};
