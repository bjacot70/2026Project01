import{m as x,bs as v,cp as _,cq as g,S as b,U as h,o as y,q as E,V as R,a6 as S,ac as w,x as B,W as d,a8 as V,cu as i,_ as k}from"./index-BsJ70qdJ.js";const q={class:"command-button"},N=x({__name:"CommandButton",props:{componentid:{type:String,required:!0},command:{type:Object,default:null}},emits:["activeCommand","abortedCommand"],setup(u,{emit:l}){const t=u,c=l,{connected:f}=v(),m=_(t.componentid),{Logging:s}=g(m()),n=b();h(()=>t.command,(e,a)=>{var o;t.command&&(s.value>10,n.value=(o=m().Commands)==null?void 0:o.get(t.command.Ref))});const p=async function(){var r;if(!n.value)return;const e=n.value,a=e.getArguments();s.value>0&&e.Parameters,c("activeCommand",e);let o=i.Unknown;try{o=await e.execute(t.componentid,(r=e.Parameters)!=null&&r.length?a:void 0,!0)}catch(C){console.error(`Command "${e.Ref}" execution exception! `,C)}s.value>1&&console.info(`Command "${e.Ref}" executed! ret=${o}`),o==i.Successful?c("activeCommand",null):c("abortedCommand",e)};return(e,a)=>{var o;return y(),E("div",q,[R(d(V),{"css-class":"e-primary btn-execute","icon-css":"e-icons e-chevron-right-fill","icon-position":"Right",onClick:p,disabled:!t.command||!d(f)||!((o=n.value)!=null&&o.Executable)},{default:S(()=>[w(B(t.command?t.command.DisplayName:"Execute"),1)]),_:1},8,["disabled"])])}}}),$=k(N,[["__scopeId","data-v-51ff0b2e"]]);export{$ as default};
