const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./GroupedCommandParameters-BiPMUxxB.js","./index-BsJ70qdJ.js","./index-CPKC8oJ2.css","./Common-6GBgVX-S.js","./GroupedCommandParameters-Bpa0CAGs.css"])))=>i.map(i=>d[i]);
import{m as P,S as c,n as q,cp as x,cq as S,Y as b,U as h,o as w,q as y,V as G,W as E,cs as L,ct as k}from"./index-BsJ70qdJ.js";const u=0,I=P({__name:"CommandSequenceParameters",props:{componentid:{type:String,required:!0},command:{type:Object,required:!0}},setup(i){const o=i,l=L(()=>k(()=>import("./GroupedCommandParameters-BiPMUxxB.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url)),e=c(o.command),r=c([]),p=q(()=>e.value.CommonGrpIndex+e.value.CommandIndex),v=x(o.componentid),{Logging:d}=S(v());function m(n){if(d.value>u+1&&console.info(`CommandSequenceParameters update(${n})`),!!o.command)if(e.value=o.command,e.value){e.value.loadEnumerations(o.componentid),r.value=[];for(let a=0;a<e.value.getGroupedNames().length;a++)r.value.push(e.value.isCommandRemovable(a));e.value.getCommonParameters()}else console.error(`CommandSequenceParameters update(${n})`,o.command)}b(async()=>{m(1)}),h(()=>o.command,()=>{m(2)});async function f(n){var a;await((a=e.value)==null?void 0:a.removeCommand(n)),m(3)}async function C(n){var a;n&&(await((a=e.value)==null?void 0:a.addCommand(n,!0,!0)),m(4))}function g(n,a,t){var s;d.value>u+1;try{(s=e.value)==null||s.updateLinkedArguments(a,t),m(5)}catch(_){console.error("CommandSequenceParameters:linkedParameterChanged failed",_)}}return(n,a)=>{var t;return w(),y("div",null,[G(E(l),{componentid:o.componentid,command:o.command,"active-index":p.value,"possible-new-commands":(t=e.value)==null?void 0:t.PossibleCommands,"editable-group":r.value,onParameterChanged:g,onAddNewGroup:C,onRemoveGroup:f},null,8,["componentid","command","active-index","possible-new-commands","editable-group"])])}}});export{I as default};
